HTMLElement.prototype.formValidity=function(){const inputs=this.querySelectorAll("input[data-validate]");if(inputs.length<0){return true}const config={default:{message:{empty:"Поле ввода пустое",invalid:"Пожалуйста, введите корректное значение"}},name:{message:{empty:"Пожалуйста, введите имя",invalid:"Пожалуйста, введите корректное имя"},regexp:new RegExp("^[а-яА-ЯЁёa-zA-Z ]{2,30}$","i")},phone:{message:{empty:"Пожалуйста, введите телефон",invalid:"Пожалуйста, введите корректный номер телефона"},pattern:"(\\+7|7|8)?[\\s\\-]?\\(?[3489][0-9]{2}\\)?[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{2}[\\s\\-]?[0-9]{2}",regexp:new RegExp("^(\\+7|7|8)?[\\s\\-]?\\(?[3489][0-9]{2}\\)?[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{2}[\\s\\-]?[0-9]{2}$","i")},mail:{message:{empty:"Пожалуйста, введите email-адрес",invalid:"Пожалуйста, введите корректный email-адрес"},pattern:"[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*",regexp:new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$","i")},yearAuto:{message:{empty:"Пожалуйста, введите год",invalid:"Пожалуйста, введите корректный год"},pattern:"(19|20)\\d{2}",regexp:new RegExp("^(19|20)\\d{2}$")}};let result=true;inputs.forEach((input=>{let settings=config.default;if(input.getAttribute("name")==="property_name"){settings=config.name}if(input.getAttribute("name")==="property_phone"){settings=config.phone}if(input.getAttribute("name")==="property_mail"){settings=config.mail}if(input.getAttribute("name")==="property_year_auto"){settings=config.yearAuto}if(settings.pattern){input.setAttribute("pattern",settings.pattern)}const val=input.value;const inputWrapper=input.closest(".form-control-wrapper")||input.closest(".form-group");if(!inputWrapper.querySelector(".invalid-feedback")){const div=document.createElement("div");div.classList.add("invalid-feedback");inputWrapper.append(div)}const feedback=inputWrapper.querySelector(".invalid-feedback");if(val===""){result=false;feedback.textContent=settings.message.empty}else if(settings.regexp&&!settings.regexp.test(val)){result=false;feedback.textContent=settings.message.invalid}}));return result};